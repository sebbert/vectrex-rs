#[derive(Debug)]
pub struct Instruction(pub Mnemonic, pub Addressing);

#[derive(Debug)]
pub enum Addressing {
	Inherent,
	Immediate8(u8),
	Immediate16(u16),
	Relative8(i8),
	Relative16(i16),
	Direct(u8),
	Extended(u16),
	Indexed(IndexMode),
}

#[derive(Debug)]
pub enum IndexRegister {
	X = 0,
	Y = 1,
	U = 2,
	S = 3
}

impl From<u8> for IndexRegister {
	fn from(value: u8) -> IndexRegister {
		match value {
			0 => IndexRegister::X,
			1 => IndexRegister::Y,
			2 => IndexRegister::U,
			3 => IndexRegister::S,
			_ => panic!("Invalid index register, parser is probably broken")
		}
	}
}

#[derive(Debug)]
pub enum IndexMode {
	Offset0    { reg: IndexRegister, indirect: bool },
	Offset5    { reg: IndexRegister, offset: i8 },
	Offset8    { reg: IndexRegister, offset: i8, indirect: bool },
	Offset16   { reg: IndexRegister, offset: i16, indirect: bool },
	OffsetA    { reg: IndexRegister, indirect: bool },
	OffsetB    { reg: IndexRegister, indirect: bool },
	OffsetD    { reg: IndexRegister, indirect: bool },
	Increment1 { reg: IndexRegister },
	Increment2 { reg: IndexRegister, indirect: bool },
	Decrement1 { reg: IndexRegister },
	Decrement2 { reg: IndexRegister, indirect: bool },
	PcOffset8  { offset: i8, indirect: bool },
	PcOffset16 { offset: i16, indirect: bool },
	ExtendedIndirect { address: u16 }
}

#[derive(Debug)]
pub enum Mnemonic {
	Abx,
	Adca,
	Adcb,
	Adda,
	Addb,
	Addd,
	Anda,
	Andb,
	Andcc,
	Asla,
	Aslb,
	Asl,
	Asra,
	Asrb,
	Asr,
	Bita,
	Bitb,
	Clra,
	Clrb,
	Clr,
	Cmpa,
	Cmpb,
	Cmpd,
	Cmps,
	Cmpu,
	Cmpx,
	Cmpy,
	Lsra,
	Lsrb,
	Lsr,
	Mul,
	Nega,
	Negb,
	Neg,
	Nop,
	Ora,
	Orb,
	Orcc,
	Pshs,
	Pshu,
	Puls,
	Pulu,
	Rola,
	Rolb,
	Rol,
	Rora,
	Rorb,
	Ror,
	Rti,
	Rts,
	Sbca,
	Sbcb,
	Sex,
	Coma,
	Comb,
	Com,
	Cwai,
	Daa,
	Deca,
	Decb,
	Dec,
	Eora,
	Eorb,
	Exg,
	Inca,
	Incb,
	Inc,
	Jmp,
	Jsr,
	Lda,
	Ldb,
	Ldd,
	Lds,
	Ldu,
	Ldx,
	Ldy,
	Leas,
	Leau,
	Leax,
	Leay,
	Sta,
	Stb,
	Std,
	Stu,
	Stx,
	Sty,
	Suba,
	Subb,
	Subd,
	Swi,
	Swi2,
	Swi3,
	Sync,
	Tfr,
	Tsta,
	Tstb,
	Tst,
	Beq,
	Bge,
	Bgt,
	Bhi,
	Bhs,
	Ble,
	Blo,
	Bls,
	Blt,
	Bmi,
	Bne,
	Bpl,
	Bra,
	Brn,
	Bsr,
	Bvc,
	Bvs,
}